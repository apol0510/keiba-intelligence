# ThriveCart + Zapier è¨­å®šæ‰‹é †æ›¸

**KEIBA Intelligence - æ±ºæ¸ˆãƒ»è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ãƒãƒ‹ãƒ¥ã‚¢ãƒ«**

---

## ğŸ“‹ ç›®æ¬¡

1. [ThriveCartå•†å“ç™»éŒ²](#1-thrivecartå•†å“ç™»éŒ²)
2. [Zapier Zapä½œæˆ](#2-zapier-zapä½œæˆ)
3. [ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ](#3-ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ)
4. [æœ¬ç•ªé‹ç”¨](#4-æœ¬ç•ªé‹ç”¨)

---

## 1. ThriveCartå•†å“ç™»éŒ²

### 1.1 ThriveCartã«ãƒ­ã‚°ã‚¤ãƒ³

https://thrivecart.com/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³

### 1.2 å•†å“ä½œæˆï¼ˆ5ãƒ—ãƒ©ãƒ³ï¼‰

#### ãƒ—ãƒ©ãƒ³1: ãƒ©ã‚¤ãƒˆï¼ˆæœˆé¡Â¥2,980ï¼‰

**Products â†’ New Product**

```
å•†å“å: KEIBA Intelligence - ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³
èª¬æ˜: å¾ŒåŠ3ãƒ¬ãƒ¼ã‚¹é¦¬å˜è²·ã„ç›®
ä¾¡æ ¼: Â¥2,980
èª²é‡‘ã‚¿ã‚¤ãƒ—: Recurring (å®šæœŸèª²é‡‘)
èª²é‡‘å‘¨æœŸ: Monthly (æ¯æœˆ)
```

**Product Settings:**
- Currency: JPY (æ—¥æœ¬å††)
- Payment Gateway: PayPal
- Product ID: `keiba-intelligence-light`

**Bump Offers:**
- å¹´é¡ãƒ—ãƒ©ãƒ³: Â¥29,800ï¼ˆ2ãƒ¶æœˆç„¡æ–™ï¼‰

---

#### ãƒ—ãƒ©ãƒ³2: ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ï¼ˆæœˆé¡Â¥4,980ï¼‰

```
å•†å“å: KEIBA Intelligence - ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³
èª¬æ˜: å…¨ãƒ¬ãƒ¼ã‚¹é¦¬å˜è²·ã„ç›®
ä¾¡æ ¼: Â¥4,980
èª²é‡‘ã‚¿ã‚¤ãƒ—: Recurring
èª²é‡‘å‘¨æœŸ: Monthly
Product ID: keiba-intelligence-standard
```

**Bump Offers:**
- å¹´é¡ãƒ—ãƒ©ãƒ³: Â¥49,800ï¼ˆ2ãƒ¶æœˆç„¡æ–™ï¼‰

---

#### ãƒ—ãƒ©ãƒ³3: ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ï¼ˆæœˆé¡Â¥6,980ï¼‰

```
å•†å“å: KEIBA Intelligence - ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³
èª¬æ˜: å…¨ãƒ¬ãƒ¼ã‚¹ä¸‰é€£è¤‡è²·ã„ç›®
ä¾¡æ ¼: Â¥6,980
èª²é‡‘ã‚¿ã‚¤ãƒ—: Recurring
èª²é‡‘å‘¨æœŸ: Monthly
Product ID: keiba-intelligence-premium
```

**Bump Offers:**
- å¹´é¡ãƒ—ãƒ©ãƒ³: Â¥69,800ï¼ˆ2ãƒ¶æœˆç„¡æ–™ï¼‰

---

#### ãƒ—ãƒ©ãƒ³4: ã‚¢ãƒ«ãƒ†ã‚£ãƒ¡ãƒƒãƒˆï¼ˆæœˆé¡Â¥8,980ï¼‰

```
å•†å“å: KEIBA Intelligence - ã‚¢ãƒ«ãƒ†ã‚£ãƒ¡ãƒƒãƒˆãƒ—ãƒ©ãƒ³
èª¬æ˜: é¦¬å˜+ä¸‰é€£è¤‡+ç©´é¦¬æƒ…å ±
ä¾¡æ ¼: Â¥8,980
èª²é‡‘ã‚¿ã‚¤ãƒ—: Recurring
èª²é‡‘å‘¨æœŸ: Monthly
Product ID: keiba-intelligence-ultimate
```

**Bump Offers:**
- å¹´é¡ãƒ—ãƒ©ãƒ³: Â¥89,800ï¼ˆ2ãƒ¶æœˆç„¡æ–™ï¼‰

---

#### ãƒ—ãƒ©ãƒ³5: AI Plusï¼ˆæœˆé¡Â¥19,800ï¼‰

```
å•†å“å: KEIBA Intelligence - AI Plusãƒ—ãƒ©ãƒ³
èª¬æ˜: 1éè¶…ç²¾å¯†AIäºˆæƒ³
ä¾¡æ ¼: Â¥19,800
èª²é‡‘ã‚¿ã‚¤ãƒ—: Recurring
èª²é‡‘å‘¨æœŸ: Monthly
Product ID: keiba-intelligence-ai-plus
```

**æ³¨æ„:**
- å˜å“è³¼å…¥ã®ã¿ï¼ˆä»–ãƒ—ãƒ©ãƒ³ã¨ä½µç”¨ä¸å¯ï¼‰
- Bump Offersãªã—

---

### 1.3 æ±ºæ¸ˆè¨­å®š

**Settings â†’ Payment Gateways â†’ PayPal**

```
PayPalã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: ï¼ˆãƒã‚³ã•ã‚“ã®PayPalãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼‰
PayPal Mode: Liveï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰
```

**ãƒ†ã‚¹ãƒˆæ™‚:**
- PayPal Mode: Sandboxï¼ˆãƒ†ã‚¹ãƒˆç’°å¢ƒï¼‰
- Test PayPal Account: ï¼ˆãƒ†ã‚¹ãƒˆç”¨PayPalã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰

---

### 1.4 Webhookè¨­å®šï¼ˆZapieré€£æºç”¨ï¼‰

**Settings â†’ Webhooks â†’ Add Webhook**

**Webhook 1: è³¼å…¥å®Œäº†æ™‚**
```
Webhook Name: Purchase Success
Trigger: Purchase Success
Webhook URL: ï¼ˆZapier Zapã®Webhook URLã‚’å¾Œã§è¨­å®šï¼‰
```

**Webhook 2: è§£ç´„æ™‚**
```
Webhook Name: Refund/Cancel
Trigger: Refund/Cancel
Webhook URL: ï¼ˆZapier Zapã®Webhook URLã‚’å¾Œã§è¨­å®šï¼‰
```

**é€ä¿¡ãƒ‡ãƒ¼ã‚¿ï¼ˆJSONï¼‰:**
```json
{
  "event": "purchase.success",
  "customer": {
    "email": "user@example.com",
    "name": "å±±ç”°å¤ªéƒ"
  },
  "product": {
    "id": "keiba-intelligence-standard",
    "name": "KEIBA Intelligence - ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³",
    "price": 4980
  },
  "subscription": {
    "id": "sub_xxxxxxxxxxxxx",
    "status": "active",
    "next_payment_date": "2026-02-10"
  },
  "timestamp": "2026-01-10T12:00:00Z"
}
```

---

### 1.5 åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰å–å¾—

**Products â†’ [å•†å“å] â†’ Publish â†’ Get Embed Code**

å„ãƒ—ãƒ©ãƒ³ã®åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—:

```html
<!-- ãƒ©ã‚¤ãƒˆãƒ—ãƒ©ãƒ³ -->
<script src="https://thrivecart.com/embed/xxxxxxxxxx"></script>

<!-- ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³ -->
<script src="https://thrivecart.com/embed/yyyyyyyyyy"></script>

<!-- ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ—ãƒ©ãƒ³ -->
<script src="https://thrivecart.com/embed/zzzzzzzzzz"></script>

<!-- ã‚¢ãƒ«ãƒ†ã‚£ãƒ¡ãƒƒãƒˆãƒ—ãƒ©ãƒ³ -->
<script src="https://thrivecart.com/embed/aaaaaaaaaa"></script>

<!-- AI Plusãƒ—ãƒ©ãƒ³ -->
<script src="https://thrivecart.com/embed/bbbbbbbbbb"></script>
```

**åŸ‹ã‚è¾¼ã¿å…ˆ:**
- `/pricing` ãƒšãƒ¼ã‚¸ã®CTAãƒœã‚¿ãƒ³ï¼ˆ`#thrivecart-light`ãªã©ï¼‰
- `/free-prediction` ãƒšãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒŸã‚¢ãƒ CTA

---

## 2. Zapier Zapä½œæˆ

### 2.1 Zapierã«ãƒ­ã‚°ã‚¤ãƒ³

https://zapier.com/ ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ­ã‚°ã‚¤ãƒ³

---

### 2.2 Zap 1: è³¼å…¥å®Œäº†æ™‚ã®ä¼šå“¡ç™»éŒ²

**Create Zap â†’ Name: ThriveCart Purchase â†’ Airtable Create**

#### Step 1: Triggerï¼ˆThriveCart Webhookï¼‰

```
App: Webhooks by Zapier
Trigger Event: Catch Hook
Webhook URL: ï¼ˆã‚³ãƒ”ãƒ¼ã—ã¦ThriveCartã®Webhookè¨­å®šã«è²¼ã‚Šä»˜ã‘ï¼‰
```

**Test Dataï¼ˆã‚µãƒ³ãƒ—ãƒ«JSONé€ä¿¡ï¼‰:**
```json
{
  "event": "purchase.success",
  "customer": {
    "email": "test@example.com",
    "name": "ãƒ†ã‚¹ãƒˆå¤ªéƒ"
  },
  "product": {
    "id": "keiba-intelligence-standard",
    "name": "KEIBA Intelligence - ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³",
    "price": 4980
  },
  "subscription": {
    "id": "sub_test123",
    "status": "active",
    "next_payment_date": "2026-02-10"
  },
  "timestamp": "2026-01-10T12:00:00Z"
}
```

#### Step 2: Actionï¼ˆAirtable Create Recordï¼‰

```
App: Airtable
Action Event: Create Record
Account: ï¼ˆAirtableã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ¥ç¶šï¼‰

Base: KEIBA Intelligence
Table: Customers

Field Mapping:
- Email: {{customer.email}}
- Name: {{customer.name}}
- Plan: {{product.id}}
- Status: active
- Subscription ID: {{subscription.id}}
- Next Payment Date: {{subscription.next_payment_date}}
- Created At: {{timestamp}}
```

#### Step 3: Actionï¼ˆSendGrid Send Emailï¼‰

```
App: SendGrid
Action Event: Send Email

From: noreply@keiba-intelligence.keiba.link
To: {{customer.email}}
Subject: KEIBA Intelligenceã¸ã‚ˆã†ã“ãï¼

Body:
{{customer.name}} æ§˜

KEIBA Intelligenceã«ã”ç™»éŒ²ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

â–  ã”ç™»éŒ²ãƒ—ãƒ©ãƒ³
{{product.name}}

â–  ãƒ­ã‚°ã‚¤ãƒ³æ–¹æ³•
ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚
https://keiba-intelligence.keiba.link/login

â–  ã‚µãƒãƒ¼ãƒˆ
ã”ä¸æ˜ç‚¹ã¯ä»¥ä¸‹ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
support@keiba-intelligence.keiba.link

KEIBA Intelligence ãƒãƒ¼ãƒ 
```

**Zapã®æœ‰åŠ¹åŒ–:**
- Test & Review â†’ Turn on Zap

---

### 2.3 Zap 2: è§£ç´„æ™‚ã®ä¼šå“¡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°

**Create Zap â†’ Name: ThriveCart Refund/Cancel â†’ Airtable Update**

#### Step 1: Triggerï¼ˆThriveCart Webhookï¼‰

```
App: Webhooks by Zapier
Trigger Event: Catch Hook
Webhook URL: ï¼ˆã‚³ãƒ”ãƒ¼ã—ã¦ThriveCartã®Refund/Cancel Webhookè¨­å®šã«è²¼ã‚Šä»˜ã‘ï¼‰
```

**Test Dataï¼ˆã‚µãƒ³ãƒ—ãƒ«JSONé€ä¿¡ï¼‰:**
```json
{
  "event": "subscription.cancelled",
  "customer": {
    "email": "test@example.com"
  },
  "subscription": {
    "id": "sub_test123",
    "status": "cancelled",
    "cancelled_at": "2026-01-15T12:00:00Z"
  }
}
```

#### Step 2: Actionï¼ˆAirtable Find Recordï¼‰

```
App: Airtable
Action Event: Find Record

Base: KEIBA Intelligence
Table: Customers

Search Field: Email
Search Value: {{customer.email}}
```

#### Step 3: Actionï¼ˆAirtable Update Recordï¼‰

```
App: Airtable
Action Event: Update Record

Record ID: {{Record ID from Step 2}}

Field Mapping:
- Status: cancelled
- Cancelled At: {{subscription.cancelled_at}}
```

#### Step 4: Actionï¼ˆSendGrid Send Emailï¼‰

```
App: SendGrid
Action Event: Send Email

From: noreply@keiba-intelligence.keiba.link
To: {{customer.email}}
Subject: KEIBA Intelligence è§£ç´„å®Œäº†ã®ãŠçŸ¥ã‚‰ã›

Body:
{{customer.name}} æ§˜

KEIBA Intelligenceã®è§£ç´„æ‰‹ç¶šããŒå®Œäº†ã—ã¾ã—ãŸã€‚

ã”å¥‘ç´„æœŸé–“æº€äº†ã¾ã§ã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚

ã¾ãŸã®ã”åˆ©ç”¨ã‚’å¿ƒã‚ˆã‚ŠãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚

KEIBA Intelligence ãƒãƒ¼ãƒ 
```

**Zapã®æœ‰åŠ¹åŒ–:**
- Test & Review â†’ Turn on Zap

---

## 3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### 3.1 ThriveCart Test Mode

**Settings â†’ Test Mode â†’ Enable**

```
Test Mode: ON
PayPal Mode: Sandbox
Test PayPal Account: sandbox@example.com
```

### 3.2 ãƒ†ã‚¹ãƒˆè³¼å…¥

1. `/pricing` ãƒšãƒ¼ã‚¸ã§ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãƒ—ãƒ©ãƒ³ã®CTAã‚’ã‚¯ãƒªãƒƒã‚¯
2. ThriveCartãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆãƒšãƒ¼ã‚¸ã§æƒ…å ±å…¥åŠ›
3. PayPal Sandboxã§æ±ºæ¸ˆå®Œäº†

### 3.3 Zapierå‹•ä½œç¢ºèª

**Zapier Dashboard â†’ Zap History**

- Zap 1ï¼ˆPurchase Successï¼‰ãŒæ­£å¸¸å®Ÿè¡Œã•ã‚ŒãŸã‹ç¢ºèª
- Airtableã«é¡§å®¢ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä½œæˆã•ã‚ŒãŸã‹ç¢ºèª
- SendGridã§ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒ¼ãƒ«ãŒé€ä¿¡ã•ã‚ŒãŸã‹ç¢ºèª

### 3.4 è§£ç´„ãƒ†ã‚¹ãƒˆ

1. ThriveCartç®¡ç†ç”»é¢ã§æ‰‹å‹•è§£ç´„å®Ÿè¡Œ
2. Zap 2ï¼ˆRefund/Cancelï¼‰ãŒæ­£å¸¸å®Ÿè¡Œã•ã‚ŒãŸã‹ç¢ºèª
3. Airtableã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãŒ `cancelled` ã«æ›´æ–°ã•ã‚ŒãŸã‹ç¢ºèª

---

## 4. æœ¬ç•ªé‹ç”¨

### 4.1 ThriveCartæœ¬ç•ªãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ

**Settings â†’ Test Mode â†’ Disable**

```
Test Mode: OFF
PayPal Mode: Live
PayPal Account: ï¼ˆæœ¬ç•ªPayPalã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰
```

### 4.2 Webhook URLã®æœ€çµ‚ç¢ºèª

**Settings â†’ Webhooks**

- Purchase Success Webhook: âœ… æœ‰åŠ¹
- Refund/Cancel Webhook: âœ… æœ‰åŠ¹

### 4.3 Zapierç›£è¦–è¨­å®š

**Zapier Dashboard â†’ Settings â†’ Notifications**

```
Email Notifications: ON
Notify on: Zap Errors
Email: mako@example.com
```

### 4.4 Airtableãƒ“ãƒ¥ãƒ¼ä½œæˆ

**Customers Table â†’ Views**

**ãƒ“ãƒ¥ãƒ¼1: Active Members**
```
Filter: Status = "active"
Sort: Created At (newest first)
```

**ãƒ“ãƒ¥ãƒ¼2: Cancelled Members**
```
Filter: Status = "cancelled"
Sort: Cancelled At (newest first)
```

**ãƒ“ãƒ¥ãƒ¼3: By Plan**
```
Group by: Plan
Sort: Created At (newest first)
```

---

## 5. é‹ç”¨ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### æ¯æ—¥ç¢ºèª

- [ ] Zapier Zap Historyã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª
- [ ] Airtableã§æ–°è¦ç™»éŒ²è€…æ•°ã‚’ç¢ºèª
- [ ] SendGridã§é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª

### æ¯é€±ç¢ºèª

- [ ] ThriveCartã§æ±ºæ¸ˆã‚¨ãƒ©ãƒ¼ç‡ã‚’ç¢ºèª
- [ ] Airtableã§è§£ç´„ç‡ã‚’è¨ˆç®—
- [ ] PayPalã§å£²ä¸Šã‚’ç¢ºèª

### æ¯æœˆç¢ºèª

- [ ] ThriveCartæ‰‹æ•°æ–™ç¢ºèª
- [ ] Zapierä½¿ç”¨é‡ç¢ºèªï¼ˆPremium: 50,000 tasks/æœˆï¼‰
- [ ] Airtableãƒ¬ã‚³ãƒ¼ãƒ‰æ•°ç¢ºèªï¼ˆPro: 250,000ä»¶ä¸Šé™ï¼‰

---

## 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: ZapãŒå®Ÿè¡Œã•ã‚Œãªã„

**A: Webhook URLãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª**
- ThriveCart â†’ Settings â†’ Webhooks â†’ Webhook URLç¢ºèª
- Zapier â†’ Trigger â†’ Webhook URLç¢ºèª

### Q: Airtableã«ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒä½œæˆã•ã‚Œãªã„

**A: Field Mappingã‚’ç¢ºèª**
- Zapier â†’ Action â†’ Field Mapping
- Airtableã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª

### Q: SendGridãƒ¡ãƒ¼ãƒ«ãŒå±Šã‹ãªã„

**A: From ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒèªè¨¼æ¸ˆã¿ã‹ç¢ºèª**
- SendGrid â†’ Settings â†’ Sender Authentication
- Domain Authenticationï¼ˆSPF/DKIMï¼‰è¨­å®šæ¸ˆã¿ã‹ç¢ºèª

### Q: é‡è¤‡ç™»éŒ²ãŒç™ºç”Ÿã™ã‚‹

**A: Airtable Find Record ã§é‡è¤‡ãƒã‚§ãƒƒã‚¯**
- Zap 1ã®Step 2ã®å‰ã«ã€ŒFind Recordã€ã‚’è¿½åŠ 
- æ—¢å­˜ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Œã°ã€ŒUpdateã€ã€ãªã‘ã‚Œã°ã€ŒCreateã€

---

## 7. ç’°å¢ƒå¤‰æ•°ï¼ˆNetlifyï¼‰

Netlify Functions ã‹ã‚‰ ThriveCart Webhook ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã®ç’°å¢ƒå¤‰æ•°:

```bash
# Netlify â†’ Site settings â†’ Environment variables

THRIVECART_WEBHOOK_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

**å–å¾—æ–¹æ³•:**
- ThriveCart â†’ Settings â†’ Webhooks â†’ Webhook Secret

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### Webhookç½²åæ¤œè¨¼ï¼ˆæ¨å¥¨ï¼‰

ThriveCartã‹ã‚‰ã®WebhookãŒæ­£å½“ã‹ã‚’æ¤œè¨¼:

```javascript
// netlify/functions/thrivecart-webhook.js

const crypto = require('crypto');

exports.handler = async (event) => {
  const signature = event.headers['x-thrivecart-signature'];
  const secret = process.env.THRIVECART_WEBHOOK_SECRET;

  const hash = crypto
    .createHmac('sha256', secret)
    .update(event.body)
    .digest('hex');

  if (signature !== hash) {
    return {
      statusCode: 401,
      body: 'Invalid signature',
    };
  }

  // Webhookå‡¦ç†
  const data = JSON.parse(event.body);

  // ... Airtableæ›´æ–°å‡¦ç† ...

  return {
    statusCode: 200,
    body: 'OK',
  };
};
```

---

## 9. å®Œäº†

ä»¥ä¸Šã§ThriveCart + Zapier + Airtable + SendGridã®è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ãŒå®Œæˆã§ã™ã€‚

**æ§‹ç¯‰ã—ãŸã‚·ã‚¹ãƒ†ãƒ :**
- âœ… ThriveCartå•†å“ç™»éŒ²ï¼ˆ5ãƒ—ãƒ©ãƒ³ï¼‰
- âœ… Zapier Zapä½œæˆï¼ˆ2 Zapsï¼‰
- âœ… Airtableè‡ªå‹•æ›´æ–°
- âœ… SendGridè‡ªå‹•ãƒ¡ãƒ¼ãƒ«é€ä¿¡
- âœ… Webhookç½²åæ¤œè¨¼

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:**
- ä¼šå“¡èªè¨¼ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆãƒã‚¸ãƒƒã‚¯ãƒªãƒ³ã‚¯ï¼‰
- ç®¡ç†ç”»é¢ä½œæˆï¼ˆprediction-converter, results-managerï¼‰
- æœ‰æ–™äºˆæƒ³ãƒšãƒ¼ã‚¸ä½œæˆï¼ˆãƒ—ãƒ©ãƒ³åˆ¥ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ï¼‰

---

**ä½œæˆæ—¥**: 2026-01-10
**ä½œæˆè€…**: Claude Codeï¼ˆã‚¯ãƒ­ã¡ã‚ƒã‚“ï¼‰
**å”åŠ›è€…**: ãƒã‚³ã•ã‚“
